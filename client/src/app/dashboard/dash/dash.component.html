<div class="dashboard">
  <div class="dashboard-header">
    <p class="subtitle">Welcome back, let's explore your activity</p>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-book"></i>
      </div>
      <div class="stat-info">
        <h3>Total Books</h3>
        <p class="stat-number">{{ totalBooks }}</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-bookmark"></i>
      </div>
      <div class="stat-info">
        <h3>Reading Now</h3>
        <p class="stat-number">3</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-check-circle"></i>
      </div>
      <div class="stat-info">
        <h3>Completed</h3>
        <p class="stat-number">156</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-clock"></i>
      </div>
      <div class="stat-info">
        <h3>Reading Time</h3>
        <p class="stat-number">342h</p>
      </div>
    </div>
  </div>

  <div class="content-grid">
    <div class="content-card large">
      <h2>Reading Progress</h2>
      <div class="card-content">
        <!-- Add chart or progress visualization here -->
      </div>
    </div>
    
    <div class="content-card">
      <h2>Recent Books</h2>
      <div class="book-list">
        <div class="book-item">
          <img src="assets/book-cover.jpg" alt="Book cover">
          <div class="book-info">
            <h4>The Great Gatsby</h4>
            <p>Page 145 of 180</p>
          </div>
        </div>
        <!-- Add more book items -->
      </div>
    </div>

    <div class="content-card">
      <h2>Reading Goals</h2>
      <div class="goals-list">
        <div class="goal-item">
          <div class="goal-progress">75%</div>
          <div class="goal-info">
            <h4>Monthly Goal</h4>
            <p>3 of 4 books read</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="book-sections">
    <div class="section-header">
      <h2>Recommended for you</h2>
      <span class="book-count">{{ recommendedBooks.length }} books</span>
    </div>
    
    <div class="loading" *ngIf="loading">
      <p>Loading books...</p>
    </div>
    
    <div class="error" *ngIf="error">
      <p>{{ error }}</p>
    </div>
    
    <div class="books-table-container" *ngIf="!loading && !error && recommendedBooks.length">
      <table class="books-table">
        <thead>
          <tr>
            <th>Cover</th>
            <th>Title</th>
            <th>Author</th>
            <th>Genre</th>
            <th>ISBN</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let book of recommendedBooks">
            <td>
              <div class="table-book-cover">
                <img *ngIf="book.cover" [src]="'data:image/jpeg;base64,' + book.cover" [alt]="book.title">
                <img *ngIf="!book.cover && book.coverUrl" [src]="book.coverUrl" [alt]="book.title">
                <div *ngIf="!book.cover && !book.coverUrl" class="table-book-emoji">ðŸ“š</div>
              </div>
            </td>
            <td>
              <div class="book-title-cell">
                <strong>{{ book.title }}</strong>
              </div>
            </td>
            <td>{{ book.authorName }}</td>
            <td>
              <span class="genre-badge" *ngIf="book.genre">{{ book.genre }}</span>
              <span class="no-genre" *ngIf="!book.genre">-</span>
            </td>
            <td>
              <span class="isbn-text" *ngIf="book.isbn">{{ book.isbn }}</span>
              <span class="no-isbn" *ngIf="!book.isbn">-</span>
            </td>
            <td>
              <button class="btn-request" (click)="requestBook(book.id)">Request</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div class="empty-state" *ngIf="!loading && !error && !recommendedBooks.length">
      <p>No books available.</p>
    </div>

    <div class="section-header">
      <h2>Categories</h2>
      <a href="#" class="view-all">View all</a>
    </div>

    <div class="categories-grid">
      <div class="category-card fiction">
        <i class="fas fa-book"></i>
        <h3>Fiction</h3>
        <p>1.2k books</p>
      </div>
      <div class="category-card science">
        <i class="fas fa-flask"></i>
        <h3>Science</h3>
        <p>850 books</p>
      </div>
      <div class="category-card history">
        <i class="fas fa-landmark"></i>
        <h3>History</h3>
        <p>642 books</p>
      </div>
      <div class="category-card biography">
        <i class="fas fa-user-tie"></i>
        <h3>Biography</h3>
        <p>428 books</p>
      </div>
    </div>
  </div>
</div>
